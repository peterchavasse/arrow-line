!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.arrowLine=e():t.arrowLine=e()}(window,(function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=27)}([function(t,e,n){const o=n(30),r=n(12),i=function(t){return r(t)?function(){const e=t.apply(null,arguments);throw new o(e)}:function(){throw new o(t)}},s={exactlyOneArgument:i("Exactly one argument expected"),argumentMustBeObject:i("Argument must be an object"),svgParentNotAllowedInUpdate:i("svgParentSelector is not allowed in update"),couldNotFindSelector:i(t=>`Could not find element with selector - '${t}'`),sourceAndDestinationFormat:i("source and destination should be either querySelector strings or coordinate pairs ({x: .. ,y: })"),singleArgumentObject:i("Single argument should always be an object"),missingSource:i("Missing source option"),missingDestination:i("Missing destination option"),lastArgumentObject:i("Last argument should always be an object"),maximumThreeArguments:i("Function does not accept more than three arguments"),doubleSource:i("Source specified twice (as first argument, and in options"),doubleDestination:i("Destination specified twice (as second argument, and in options)"),atLeastOneArgument:i("At least one argument expected"),mustBeString:i(t=>t+" must be a string"),mustBeNumber:i(t=>t+" must be a number"),mustBePositiveNumber:i(t=>t+" must be a positive number"),mustBeNonZeroNumber:i(t=>t+" must be a number different than 0"),positionWithCoords:i(t=>`${t}Position unavailable when using coordinates as ${t}`),valInEnum:i((t,e,n)=>`'${t}' is not a valid ${n[0]} - available ${n[1]} are: ${e.join(", ")}`),pivotsFormat:i("'pivots' must be an array of two coordinates {x: number , y: number}"),pivotsAndCurvature:i("'curvature' option is not allowed when using explicit pivots"),missingMarkerIdent:i("Custom marker type is missing required property 'endpoint.markerIdentifier'"),markerIdentOnlyCustom:i("property 'endpoint.markerIdentifier' allowed only with custom endpoint.type"),markerCustomizationUnavailable:i(t=>`Marker customization property '${t}' not available when providing custom marker`),unrecognizedOption:i(t=>`Unrecognized option '${t}'`),unrecognizedEndpointOption:i(t=>`Unrecognized endpoint option '${t}'`)};t.exports=s},function(t,e,n){var o=n(5),r=n(6),i=n(15);t.exports=function(t){return"string"==typeof t||!r(t)&&i(t)&&"[object String]"==o(t)}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){const o=n(1),r=n(21),i=n(0);t.exports=function(t,e,n,s){const u=o(s)?[s,s+"s"]:s,c=r(t,e);c&&!n.includes(c)&&i.valInEnum(c,n,u)}},function(t,e,n){var o=n(13),r=n(33),i=n(34),s=o?o.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?r(t):i(t)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){const o=n(8),r=n(3);t.exports=function(t){if(!r(t))return!1;const e=Object.keys(t);return!!e.includes("x")&&(!!e.includes("y")&&(o(t.x)&&o(t.y)))}},function(t,e,n){var o=n(5),r=n(15);t.exports=function(t){return"number"==typeof t||r(t)&&"[object Number]"==o(t)}},function(t,e,n){var o=n(22)(Object,"create");t.exports=o},function(t,e,n){var o=n(64);t.exports=function(t,e){for(var n=t.length;n--;)if(o(t[n][0],e))return n;return-1}},function(t,e,n){var o=n(70);t.exports=function(t,e){var n=t.__data__;return o(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var o=n(5),r=n(3);t.exports=function(t){if(!r(t))return!1;var e=o(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){var o=n(14).Symbol;t.exports=o},function(t,e,n){var o=n(31),r="object"==typeof self&&self&&self.Object===Object&&self,i=o||r||Function("return this")();t.exports=i},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){const o=n(41);class r{constructor(t,e,n,o){this.x=t,this.y=e,this.width=n,this.height=o}get topLeft(){return new o(this.x,this.y)}get topRight(){return new o(this.x+this.width,this.y)}get topCenter(){return new o(this.x+this.width/2,this.y)}get middleLeft(){return new o(this.x,this.y+this.height/2)}get middleRight(){return new o(this.x+this.width,this.y+this.height/2)}get bottomLeft(){return new o(this.x,this.y+this.height)}get bottomCenter(){return new o(this.x+this.width/2,this.y+this.height)}get bottomRight(){return new o(this.x+this.width,this.y+this.height)}leftOf(t){return this.middleLeft.leftOf(t.middleLeft)}get center(){return new o(this.x+this.width/2,this.y+this.height/2)}aboveOf(t){return this.topCenter.aboveOf(t.topCenter)}}r.SIDES={topLeft:"topLeft",topRight:"topRight",topCenter:"topCenter",middleRight:"middleRight",middleLeft:"middleLeft",bottomLeft:"bottomLeft",bottomCenter:"bottomCenter",bottomRight:"bottomRight"},r.fromDOMElement=function(t){const e=function(t){for(var e=0,n=0,r=t;null!=r;r=r.offsetParent)e+=r.offsetLeft,n+=r.offsetTop;return new o(e,n)}(t);return new r(e.x,e.y,t.offsetWidth,t.offsetHeight)},t.exports=r},function(t,e,n){var o=n(5),r=n(15);t.exports=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==o(t)}},function(t,e){t.exports={HORIZONTAL:"horizontal",VERTICAL:"vertical"}},function(t,e){t.exports={arrowHeadFilled:"arrowHeadFilled",arrowHead:"arrowHead",squares:"squares",circles:"circles",custom:"custom",none:"none"}},function(t,e,n){const o=n(35),r=n(89);t.exports=function(t){return{...o(t),sourceRectangle:r(t.source),destinationRectangle:r(t.destination)}}},function(t,e,n){var o=n(42);t.exports=function(t,e,n){var r=null==t?void 0:o(t,e);return void 0===r?n:r}},function(t,e,n){var o=n(52),r=n(56);t.exports=function(t,e){var n=r(t,e);return o(n)?n:void 0}},function(t,e){t.exports={dot:"1 1",dash:"4 1",solid:"","dot-dash":"1 1 4 1"}},function(t,e){t.exports={START:"start",END:"end",BOTH:"both"}},function(t,e){t.exports={getCounter:function(){let t=0;return()=>t++},reverseIf:function(t,e){return e?t.reverse():t}}},function(t,e){t.exports="__arrowLineInternal"},function(t,e,n){const o=n(28);t.exports=o},function(t,e,n){const o=n(29),r=n(90),i=n(91),s=n(92),u=n(93),c=n(94),a=n(20),f=n(3),p=n(0);function l(t,e){const{beginPoint:n,endPoint:o,direction:c}=s(e),a={direction:e.forceDirection||c,curvature:e.curvature,pivots:e.pivots};return{d:i(e.sourceRectangle[n],e.destinationRectangle[o],a),fill:"none",stroke:e.color,...r(e),...u(t,e)}}function d(t,e){(function(t){const e=[];for(let n=0;n<t.attributes.length;n++)e.push(t.attributes.item(n).name);return e})(t).forEach(e=>t.attributes.removeNamedItem(e));for(let n in e)t.setAttributeNS(null,n,e[n])}t.exports=function(...t){const e=o(t),n=e.options;let r=e.rawOptions;const i=c(n.svgParentSelector),s=i.createPath();return d(s,l(i,n)),{getParentSvgId:()=>i.parentCanvas.id,getRawSvgPath:()=>s,remove:()=>{s.parentNode.removeChild(s)},update:(...t)=>{1!=t.length&&p.exactlyOneArgument();const e=t[0];f(e)||p.argumentMustBeObject(),e.svgParentSelector&&p.svgParentNotAllowedInUpdate();const n={...r,...e},o=a(n);d(s,l(i,o)),r=n}}}},function(t,e,n){const o=n(3),r=n(0),i=n(20);function s(t){return 0==t.length&&r.atLeastOneArgument(),t.length>1?function(t){t.length>2&&!o(t[2])&&r.lastArgumentObject(),t.length>3&&r.maximumThreeArguments();const e=t[2]||{};return e.source&&r.doubleSource(),e.destination&&r.doubleDestination(),{...e,source:t[0],destination:t[1]}}(t):function(t){o(t[0])||r.singleArgumentObject();const e=t[0];return e.source||r.missingSource(),e.destination||r.missingDestination(),e}(t)}t.exports=function(t){const e=s(t);return{rawOptions:e,options:i(e)}}},function(t,e){class n extends Error{constructor(t){super(),this.message=t}toString(){return"ArgumentError: "+this.message}}t.exports=n},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(32))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var o=n(13),r=Object.prototype,i=r.hasOwnProperty,s=r.toString,u=o?o.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),n=t[u];try{t[u]=void 0;var o=!0}catch(t){}var r=s.call(t);return o&&(e?t[u]=n:delete t[u]),r}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){const o=n(36),r=n(37),i=n(38),s=n(39),u=n(40),c=n(78),a=n(79),f=n(80),p=n(81),l=n(82),d=n(88);t.exports=function(t){return o(t),d(t),r(t),i(t),s(t),f(t),u(t),c(t),l(t),a(t),p(t),t}},function(t,e,n){const o=n(1),r=n(0),i=n(7);t.exports=function(t){return[t.source,t.destination].every(t=>o(t)||i(t))||r.sourceAndDestinationFormat(),t}},function(t,e,n){const o=n(1),r=n(0);t.exports=function(t){t.color=t.color||"black",o(t.color)||r.mustBeString("Color")}},function(t,e,n){const o=n(8),r=n(0);t.exports=function(t){t.thickness=t.thickness||1,o(t.thickness)||r.mustBeNumber("Thickness")}},function(t,e,n){const o=n(8),r=n(2),i=n(0);t.exports=function(t){r(t.curvature)||o(t.curvature)||i.mustBeNumber("Curvature"),!t.pivots&&r(t.curvature)&&(t.curvature=1)}},function(t,e,n){const o=n(7),r=n(16),i=n(4),s=n(0),u=Object.keys(r.SIDES);t.exports=function(t){t.sourcePosition&&(o(t.source)&&s.positionWithCoords("source"),i(t,"sourcePosition",u,"position")),t.destinationPosition&&(o(t.destination)&&s.positionWithCoords("destination"),i(t,"destinationPosition",u,"position"))}},function(t,e,n){const o=n(2);class r{constructor(t,e){this.x=t,this.y=e}translate(t,e){let n,i;return t&&o(e)?[n,i]=[t.x,t.y]:[n,i]=[t,e],new r(this.x+(n||0),this.y+(i||0))}leftOf(t){return this.x<t.x}aboveOf(t){return this.y<t.y}horizontallyAlignedTo(t){return Math.abs(t.x-this.x)>Math.abs(t.y-this.y)}str(){return`${this.x} ${this.y}`}}t.exports=r},function(t,e,n){var o=n(43),r=n(77);t.exports=function(t,e){for(var n=0,i=(e=o(e,t)).length;null!=t&&n<i;)t=t[r(e[n++])];return n&&n==i?t:void 0}},function(t,e,n){var o=n(6),r=n(44),i=n(45),s=n(74);t.exports=function(t,e){return o(t)?t:r(t,e)?[t]:i(s(t))}},function(t,e,n){var o=n(6),r=n(17),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(o(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!r(t))||(s.test(t)||!i.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var o=n(46),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=o((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,(function(t,n,o,r){e.push(o?r.replace(i,"$1"):n||t)})),e}));t.exports=s},function(t,e,n){var o=n(47);t.exports=function(t){var e=o(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var o=n(48);function r(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var o=arguments,r=e?e.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var s=t.apply(this,o);return n.cache=i.set(r,s)||i,s};return n.cache=new(r.Cache||o),n}r.Cache=o,t.exports=r},function(t,e,n){var o=n(49),r=n(69),i=n(71),s=n(72),u=n(73);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=r,c.prototype.get=i,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e,n){var o=n(50),r=n(61),i=n(68);t.exports=function(){this.size=0,this.__data__={hash:new o,map:new(i||r),string:new o}}},function(t,e,n){var o=n(51),r=n(57),i=n(58),s=n(59),u=n(60);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=r,c.prototype.get=i,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e,n){var o=n(9);t.exports=function(){this.__data__=o?o(null):{},this.size=0}},function(t,e,n){var o=n(12),r=n(53),i=n(3),s=n(55),u=/^\[object .+?Constructor\]$/,c=Function.prototype,a=Object.prototype,f=c.toString,p=a.hasOwnProperty,l=RegExp("^"+f.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||r(t))&&(o(t)?l:u).test(s(t))}},function(t,e,n){var o,r=n(54),i=(o=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"";t.exports=function(t){return!!i&&i in t}},function(t,e,n){var o=n(14)["__core-js_shared__"];t.exports=o},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var o=n(9),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(o){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(e,t)?e[t]:void 0}},function(t,e,n){var o=n(9),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return o?void 0!==e[t]:r.call(e,t)}},function(t,e,n){var o=n(9);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=o&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var o=n(62),r=n(63),i=n(65),s=n(66),u=n(67);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=r,c.prototype.get=i,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var o=n(10),r=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=o(e,t);return!(n<0)&&(n==e.length-1?e.pop():r.call(e,n,1),--this.size,!0)}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var o=n(10);t.exports=function(t){var e=this.__data__,n=o(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var o=n(10);t.exports=function(t){return o(this.__data__,t)>-1}},function(t,e,n){var o=n(10);t.exports=function(t,e){var n=this.__data__,r=o(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}},function(t,e,n){var o=n(22)(n(14),"Map");t.exports=o},function(t,e,n){var o=n(11);t.exports=function(t){var e=o(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var o=n(11);t.exports=function(t){return o(this,t).get(t)}},function(t,e,n){var o=n(11);t.exports=function(t){return o(this,t).has(t)}},function(t,e,n){var o=n(11);t.exports=function(t,e){var n=o(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}},function(t,e,n){var o=n(75);t.exports=function(t){return null==t?"":o(t)}},function(t,e,n){var o=n(13),r=n(76),i=n(6),s=n(17),u=o?o.prototype:void 0,c=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return r(e,t)+"";if(s(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e){t.exports=function(t,e){for(var n=-1,o=null==t?0:t.length,r=Array(o);++n<o;)r[n]=e(t[n],n,t);return r}},function(t,e,n){var o=n(17);t.exports=function(t){if("string"==typeof t||o(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){const o=n(7),r=n(0);t.exports=function(t){t.pivots&&(Array.isArray(t.pivots)&&2==t.pivots.length&&t.pivots.every(o)||r.pivotsFormat(),t.curvature&&r.pivotsAndCurvature())}},function(t,e,n){const o=n(1),r=n(2),i=n(0);t.exports=function(t){r(t.svgParentSelector)||o(t.svgParentSelector)||i.mustBeString("svgParentSelector")}},function(t,e,n){const o=n(23),r=n(4),i=Object.keys(o);t.exports=function(t){r(t,"style",i,"style")}},function(t,e,n){const o=n(1),r=n(2),i=n(0),s=n(18),u=n(4),c=Object.values(s);t.exports=function(t){r(t.forceDirection)||(o(t.forceDirection)||i.mustBeString("forceDirection"),u(t,"forceDirection",c,"direction type"))}},function(t,e,n){const o=n(83),r=n(84),i=n(85),s=n(86),u=n(87);t.exports=function(t){t.endpoint=t.endpoint||{},o(t.endpoint),r(t.endpoint),i(t.endpoint),s(t.endpoint),t.endpoint.fillColor=t.endpoint.fillColor||t.color,u(t.endpoint)}},function(t,e,n){const o=n(1),r=n(19),i=n(4),s=n(0),u=Object.keys(r);t.exports=function(t){t.type=t.type||r.arrowHeadFilled,i(t,"type",u,"endpoint type"),function(t){if(t.type==r.custom){t.markerIdentifier||s.missingMarkerIdent(),o(t.markerIdentifier)||s.mustBeString();const e=["fillColor","size"].find(e=>t[e]);e&&s.markerCustomizationUnavailable(e)}else t.markerIdentifier&&s.markerIdentOnlyCustom()}(t)}},function(t,e,n){const o=n(1),r=n(2),i=n(0);t.exports=function(t){const e=t.fillColor;r(e)||o(e)||i.mustBeString("Endpoint fillColor")}},function(t,e,n){const o=n(1),r=n(2),i=n(24),s=n(4),u=n(0),c=Object.values(i);t.exports=function(t){const e=t.position;r(e)||(o(e)||u.mustBeString("Endpoint position"),s(t,"position",c,"endpoint position"))}},function(t,e,n){const o=n(8),r=n(2),i=n(0);t.exports=function(t){const e=t.size;r(e)||(!o(e)||e<=0)&&i.mustBePositiveNumber("Endpoint size"),t.size=t.size||1}},function(t,e,n){const o=n(0),r=["type","markerIdentifier","fillColor","size","position"];t.exports=function(t){const e=Object.keys(t).find(t=>!r.includes(t));e&&o.unrecognizedEndpointOption(e)}},function(t,e,n){const o=n(0),r=["source","destination","color","curvature","pivots","sourcePosition","destinationPosition","style","thickness","forceDirection","endpoint","svgParentSelector"];t.exports=function(t){const e=Object.keys(t).find(t=>!r.includes(t));e&&o.unrecognizedOption(e)}},function(t,e,n){const o=n(16),r=n(0),i=n(7);t.exports=function(t){if(i(t))return new o(t.x,t.y,0,0);const e=document.querySelector(t);return e||r.couldNotFindSelector(t),o.fromDOMElement(e)}},function(t,e,n){const o=n(23);t.exports=function(t){const e={};return t.style&&(e["stroke-dasharray"]=o[t.style]),t.thickness&&(e["stroke-width"]=t.thickness),e}},function(t,e,n){const{HORIZONTAL:o}=n(18);t.exports=function(t,e,n){const r=["M",t.str()];if(0!=n.curvature){const i=n.curvature?function(t,e,n,r){const i=r==o?"x":"y",s=(e[i]-t[i])*n;return[t.translate({[i]:s}),e.translate({[i]:-s})]}(t,e,n.curvature,n.direction):[t.translate(n.pivots[0]),e.translate(n.pivots[1])];r.push("C"),r.push(...i.map(t=>t.str()))}return r.push(e.str()),r.join(" ")}},function(t,e,n){const o=n(16),{HORIZONTAL:r,VERTICAL:i}=n(18),{reverseIf:s}=n(25),u={[r]:(t,e)=>s([o.SIDES.middleLeft,o.SIDES.middleRight],t.leftOf(e)),[i]:(t,e)=>s([o.SIDES.topCenter,o.SIDES.bottomCenter],t.aboveOf(e))};t.exports=function({sourceRectangle:t,destinationRectangle:e,sourcePosition:n,destinationPosition:o}){const s=t.center.horizontallyAlignedTo(e.center)?r:i;let[c,a]=u[s](t,e);return n&&(c=n),o&&(a=o),{beginPoint:c,endPoint:a,direction:s}}},function(t,e,n){const o=n(21),r=n(19),i=n(24),{getCounter:s}=n(25),u=n(26)+"-MARKER-",c=s(),a=new Map;function f(t,e){const{key:n,options:r}=function(t){const e=o(t,"endpoint.type"),n=o(t,"endpoint.fillColor"),r=o(t,"endpoint.size"),i={type:e,color:t.color,fillColor:n,size:r};return{key:`${t.color}-${e}-${n}-${r}`,options:i}}(e);if(!a.has(n)){const e=`${u}${c()}`;return t.createMarker(e,r),a.set(n,e),e}return a.get(n)}t.exports=function(t,e){const n=o(e,"endpoint.type");if(n==r.none)return{};let s=o(e,"endpoint.markerIdentifier");s||(s=f(t,e));const u=`url(#${s})`,c=o(e,"endpoint.position");return c?function(t,e){const n={};[i.START,i.BOTH].includes(t)&&(n["marker-start"]=e),[i.END,i.BOTH].includes(t)&&(n["marker-end"]=e)}(c,u):function(t,e){const n={"marker-end":e};return t!=r.squares&&t!=r.circles||(n["marker-start"]=e),n}(n,u)}},function(t,e,n){const o=n(95),r=n(0),i=new Map;t.exports=function(t){let e;if(t){if(!i.has(t)){const e=document.querySelector(t);e||r.couldNotFindSelector(t),i.set(t,e)}e=i.get(t)}else e=o.defaultSvgElement();return new o(e)}},function(t,e,n){const{drawMarker:o,createElement:r,createSvgElement:i}=n(96),s=n(26);class u{constructor(t){this.parentCanvas=t}createMarker(t,e){const{type:n,color:i,fillColor:s,size:u}=e,c=String(10*u),a=r("marker",{id:t,markerUnits:"strokeWidth",viewBox:"-1 -1 12 12",stroke:i,fill:s,orient:"auto",markerWidth:c,markerHeight:c});o[n](a),this.definitionElement.appendChild(a)}createPath(){const t=i("path");return this.parentCanvas.appendChild(t),t}get definitionElement(){if(!this._defs){const t=this.parentCanvas.querySelector("defs");if(t)this._defs=t;else{const t=i("defs");this.parentCanvas.appendChild(t),this._defs=t}}return this._defs}}u.defaultSvgElement=function(){if(!this._defaultEl){const t=s+"-svg-canvas";this._defaultEl=r("svg",{id:t,style:"position:absolute;top:0px;left:0px;pointer-events: none;",width:document.body.clientWidth,height:document.body.clientHeight}),document.body.appendChild(this._defaultEl)}return this._defaultEl},t.exports=u},function(t,e,n){const o=n(12),r=n(19);function i(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function s(t,e){const n=i(t);for(let t in e)n.setAttribute(t,e[t]);return n}function u(t,e,n){return function(r){r.setAttribute("refX",t),r.setAttribute("refY",e);const i=o(n)?n(r):n;r.appendChild(i)}}const c={[r.arrowHeadFilled]:u(10,5,s("polygon",{points:"0,0 10,5 0,10"})),[r.circles]:u(5,5,s("circle",{r:4,cx:5,cy:5})),[r.squares]:u(5,5,s("rect",{width:10,height:10})),[r.arrowHead]:u(10,5,(function(t){return t.setAttribute("fill-opacity","0"),s("polyline",{points:"0,0 10,5 0,10"})}))};t.exports={drawMarker:c,createElement:s,createSvgElement:i}}])}));